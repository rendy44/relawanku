{"version":3,"file":"metabox.min.js","mappings":"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","sources":["webpack://relawanku/./assets/scripts/metabox.js"],"sourcesContent":["(function ($) {\n\n    class Metabox {\n        constructor() {\n            this.onGenerateQRCode();\n            this.onAvailabilityChange();\n            this.onEmergencyContactChange();\n        }\n        onGenerateQRCode() {\n            $('#gen-qrcode').click((e) => {\n                const wrapper = $(e.target).closest('div'),\n                    originalLoadingText = $(e.target).html(),\n                    postId = $(e.target).closest('.rwmb-meta-box').data('object-id');\n\n                // Change loading state.\n                $(e.target).prop('disabled', true).html('Loading...');\n\n                // Load all offices for the first time.\n                $.ajax({\n                    url: rlw.ajax_url + '?action=rlw_qrcode&volunteer=' + postId,\n                    type: 'get',\n                    dataType: \"json\",\n                    success: function (data) {\n\n                        // Remove loading state.\n                        $(e.target).prop('disabled', false).html(originalLoadingText);\n\n                        // Validate result.\n                        if (data.success) {\n                            wrapper.html(data.data)\n                        }\n                    }\n                })\n            })\n        }\n\n        onAvailabilityChange() {\n            const availabilitySelect = $('#rlw_availability'),\n                availabilityAmountInput = $('#rlw_amount'),\n                availabilityAmountInputWrapper = availabilityAmountInput.closest('.rwmb-field.rwmb-number-wrapper'),\n                availabilitySelectValue = availabilitySelect.val();\n\n            if (!availabilitySelectValue || 'unlimited' === availabilitySelectValue) {\n                availabilityAmountInputWrapper.hide();\n            }\n\n            availabilitySelect.change((e) => {\n                const targetValue = $(e.target).val();\n                if (targetValue && 'unlimited' !== targetValue) {\n                    availabilityAmountInputWrapper.show();\n                } else {\n                    availabilityAmountInputWrapper.hide();\n                }\n            })\n        }\n\n        onEmergencyContactChange() {\n            const emergencyContactInput = $('#rlw_emergency_contact'),\n                emergencyContactRelation = $('#rlw_emergency_relation'),\n                emergencyContactRelationWrapper = emergencyContactRelation.closest('.rwmb-field.rwmb-select-wrapper');\n\n            if (!emergencyContactInput.val()) {\n                emergencyContactRelationWrapper.hide();\n            }\n\n            emergencyContactInput.keyup((e) => {\n                if ($(e.target).val()) {\n                    emergencyContactRelationWrapper.show();\n                } else {\n                    emergencyContactRelationWrapper.hide();\n                }\n            })\n        }\n    }\n\n    new Metabox();\n})(jQuery)"],"names":["$","Metabox","constructor","onGenerateQRCode","onAvailabilityChange","onEmergencyContactChange","click","e","wrapper","target","closest","originalLoadingText","html","postId","data","prop","ajax","url","rlw","ajax_url","type","dataType","success","availabilitySelect","availabilityAmountInput","availabilityAmountInputWrapper","availabilitySelectValue","val","hide","change","targetValue","show","emergencyContactInput","emergencyContactRelation","emergencyContactRelationWrapper","keyup","jQuery"],"sourceRoot":""}